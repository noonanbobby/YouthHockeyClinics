@tailwind base;
@tailwind components;
@tailwind utilities;

/* ═══════════════════════════════════════════════
   Noonan Hockey — Light Mode Design System
   Team colors set dynamically by ThemeProvider.tsx
   ═══════════════════════════════════════════════ */

:root {
  --theme-primary: #0ea5e9;
  --theme-secondary: #0284c7;
  --theme-accent: #38bdf8;
  --theme-bg: #f0f4f8;
  --theme-header-bg: #ffffff;
  --theme-card-bg: #ffffff;
  --theme-card-border: #e2e8f0;
  --theme-card-hover: #f8fafc;
  --theme-surface: #e8edf2;
  --theme-nav-bg: #ffffff;
  --theme-glow: rgba(14, 165, 233, 0.12);
  --theme-text: #0f172a;
  --theme-text-secondary: #475569;
  --theme-text-muted: #94a3b8;
  --theme-shadow-sm: 0 1px 2px rgba(0,0,0,0.04);
  --theme-shadow: 0 1px 3px rgba(0,0,0,0.07), 0 1px 2px rgba(0,0,0,0.04);
  --theme-shadow-md: 0 4px 12px rgba(0,0,0,0.06), 0 2px 4px rgba(0,0,0,0.04);
  --theme-shadow-lg: 0 10px 30px rgba(0,0,0,0.08), 0 4px 10px rgba(0,0,0,0.03);
}

/* ─── Core Theme Utilities ─────────────────────── */
.theme-primary { color: var(--theme-primary); }
.theme-secondary { color: var(--theme-secondary); }
.theme-accent { color: var(--theme-accent); }
.theme-text { color: var(--theme-text); }
.theme-text-secondary { color: var(--theme-text-secondary); }
.theme-text-muted { color: var(--theme-text-muted); }
.theme-bg { background-color: var(--theme-bg); }
.theme-bg-primary { background-color: var(--theme-primary); }
.theme-bg-secondary { background-color: var(--theme-secondary); }
.theme-bg-surface { background-color: var(--theme-surface); }
.theme-bg-card { background-color: var(--theme-card-bg); }
.theme-bg-header { background-color: var(--theme-header-bg); }
.theme-bg-nav { background-color: var(--theme-nav-bg); }

/* Alpha variants */
.theme-bg-primary-5 { background-color: color-mix(in srgb, var(--theme-primary) 5%, transparent); }
.theme-bg-primary-10 { background-color: color-mix(in srgb, var(--theme-primary) 10%, transparent); }
.theme-bg-primary-15 { background-color: color-mix(in srgb, var(--theme-primary) 15%, transparent); }
.theme-bg-primary-20 { background-color: color-mix(in srgb, var(--theme-primary) 20%, transparent); }

/* Borders */
.theme-border { border-color: var(--theme-card-border); }
.theme-border-strong { border-color: color-mix(in srgb, var(--theme-primary) 30%, transparent); }

/* Ring / Focus */
.theme-ring { --tw-ring-color: var(--theme-primary); }
.theme-ring-glow { box-shadow: 0 0 20px var(--theme-glow); }

/* Gradient helpers */
.theme-gradient-accent {
  background: linear-gradient(135deg, var(--theme-primary), var(--theme-secondary));
}

/* ─── Safe Areas for iPhone ────────────────────── */
.safe-area-top { padding-top: env(safe-area-inset-top); }
.safe-area-bottom { padding-bottom: env(safe-area-inset-bottom); }

/* ─── Scrollbar ────────────────────────────────── */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

/* ─── Global Overrides ─────────────────────────── */
html {
  overscroll-behavior-y: contain;
}
body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-tap-highlight-color: transparent;
  overflow-x: hidden;
  background-color: var(--theme-bg);
}

/* ─── Map ─────────────────────────────────────── */
.leaflet-container { background: var(--theme-bg) !important; font-family: inherit !important; }
.custom-marker { background: transparent !important; border: none !important; }

@keyframes marker-pulse {
  0% { box-shadow: 0 0 0 0 var(--theme-glow); }
  70% { box-shadow: 0 0 0 15px transparent; }
  100% { box-shadow: 0 0 0 0 transparent; }
}

/* ─── Form Elements ────────────────────────────── */
select option { background: #ffffff; color: #0f172a; }

/* ─── Animations ───────────────────────────────── */
main { animation: fadeIn 0.15s ease-out; }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
.skeleton {
  background: linear-gradient(90deg, #e2e8f0 25%, #f1f5f9 50%, #e2e8f0 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

/* ═══════════════════════════════════════════════════════
   Hardcoded-Dark Page Overrides
   Pages still using bg-slate-950/text-white get remapped
   via data-theme-page attribute to light-mode equivalents.
   ═══════════════════════════════════════════════════════ */

[data-theme-page] {
  background-color: var(--theme-bg) !important;
  color: var(--theme-text);
}

/* Text */
[data-theme-page] .text-white { color: var(--theme-text) !important; }
[data-theme-page] .text-slate-200,
[data-theme-page] .text-slate-300 { color: var(--theme-text-secondary) !important; }
[data-theme-page] .text-slate-400 { color: var(--theme-text-secondary) !important; }
[data-theme-page] .text-slate-500 { color: var(--theme-text-muted) !important; }
[data-theme-page] .text-slate-600 { color: var(--theme-text-muted) !important; }
[data-theme-page] .placeholder\:text-slate-600::placeholder { color: var(--theme-text-muted) !important; }

/* Backgrounds */
[data-theme-page] .bg-slate-950 { background-color: var(--theme-bg) !important; }
[data-theme-page] .bg-slate-900,
[data-theme-page] .bg-slate-900\/95 { background-color: var(--theme-card-bg) !important; box-shadow: var(--theme-shadow); }
[data-theme-page] .bg-slate-800 { background-color: var(--theme-surface) !important; }
[data-theme-page] .bg-slate-800\/50 { background-color: color-mix(in srgb, var(--theme-surface) 50%, transparent) !important; }
[data-theme-page] .bg-white\/5,
[data-theme-page] .bg-white\/\[0\.03\] { background-color: var(--theme-surface) !important; }
[data-theme-page] .bg-white\/10 { background-color: var(--theme-surface) !important; }
[data-theme-page] .bg-black\/20 { background-color: rgba(0,0,0,0.05) !important; }
[data-theme-page] .bg-black\/70 { background-color: rgba(0,0,0,0.5) !important; }
[data-theme-page] .bg-black\/40 { background-color: rgba(0,0,0,0.3) !important; }

/* Interactive elements: remap blue to team color */
[data-theme-page] .bg-blue-500 { background-color: var(--theme-primary) !important; }
[data-theme-page] .hover\:bg-blue-600:hover { background-color: var(--theme-secondary) !important; }
[data-theme-page] .bg-blue-500\/20 { background-color: color-mix(in srgb, var(--theme-primary) 12%, transparent) !important; }
[data-theme-page] .text-blue-400 { color: var(--theme-primary) !important; }
[data-theme-page] .bg-blue-500\/15 { background-color: color-mix(in srgb, var(--theme-primary) 10%, transparent) !important; }
[data-theme-page] .border-blue-500\/20 { border-color: color-mix(in srgb, var(--theme-primary) 20%, transparent) !important; }
[data-theme-page] .focus\:ring-blue-500:focus { --tw-ring-color: var(--theme-primary) !important; }

/* Borders */
[data-theme-page] .border-slate-800,
[data-theme-page] .border-slate-700 { border-color: var(--theme-card-border) !important; }
[data-theme-page] .border-white\/5,
[data-theme-page] .border-white\/10,
[data-theme-page] .border-white\/20 { border-color: var(--theme-card-border) !important; }
[data-theme-page] .border-slate-900 { border-color: var(--theme-card-border) !important; }

/* Form inputs */
[data-theme-page] input,
[data-theme-page] select,
[data-theme-page] textarea {
  background-color: var(--theme-bg) !important;
  color: var(--theme-text) !important;
  border-color: var(--theme-card-border) !important;
}
[data-theme-page] input::placeholder,
[data-theme-page] textarea::placeholder {
  color: var(--theme-text-muted) !important;
}
[data-theme-page] option {
  background-color: #ffffff !important;
  color: #0f172a !important;
}

/* Hover states */
[data-theme-page] .hover\:bg-slate-800:hover { background-color: var(--theme-surface) !important; }
[data-theme-page] .hover\:bg-slate-700:hover { background-color: var(--theme-surface) !important; }
[data-theme-page] .hover\:text-white:hover { color: var(--theme-text) !important; }

/* Dividers */
[data-theme-page] .divide-y > * + * { border-color: var(--theme-card-border); }

/* ─── Utility: Line Clamping ───────────────────── */
.line-clamp-1 { display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden; }
.line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
.line-clamp-3 { display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
